# npx

在npm 5.2版本被推出

## 目的

- 为了解决全局安装命令行工具的问题


## 优点

- npx 可以让我们直接运行命令行工具，不需要进行全局安装
- npx 还能够自动解决不同版本的依赖项之间的冲突问题


## 运行原理

1. 首先，npx 会在本地 node_modules/.bin 目录中查找需要执行的命令是否存在

2. 如果本地不存在该命令，npx 会在 npm registry 中查找并下载该命令所在的包。npx 下载的包位于缓存目录

3. 载完成后，npx 会将该命令运行在一个新的子进程中，并将当前项目路径添加到子进程的 PATH 变量中

4. 如果使用了 --no-install 参数，在本地不存在该命令时，npx 将会抛出一个错误而不是自动下载该命令

总结：npx 在本地查找指定命令，如果本地没有，则自动下载该命令所在的包，然后在子进程中执行该命令。每次都会重新下载最新版本的包，也保证了命令的更新和安全性。。