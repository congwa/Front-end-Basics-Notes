# 进程

进程是一个具有一定独立功能的程序关于某个数据集合的一次运行活动，它是进行系统资源分配、调度的一个独立单位。

进程的特征

a． 动态性：程序的一个执行过程，运动中的程序。
b． 并发性：建立进程的程序是可并发执行的。
c． 异步性：并发程序相互制约。
d． 独立性：在一个数据集上，作为一个基本单位，具有独立性。
e． 结构性：每个进程都由其相对应的数据结构及某独立表项。

引入进程的利弊

利：多道程序并行执行，改善了系统资源的利用率，提高了系统的吞吐量、

弊：1）空间开销

2）时间开销

## 进程的状态及转换

### 进程的3种状态

就绪、运行、阻塞

![进程](/study/imgs/%E8%BF%9B%E7%A8%8B.png)

### 进程的实体

进程控制块（Process Control Block——PCB）

PCB 时系统为描述和控制进程的运行而为每个进程定义的一个数据结构，PCB 中记录了操作系统所需全部的关于进程的描述和控制信息，它是进程存在的唯一标志。

PCB 结构（内容）标识信息、调度信息、处理机信息、控制信息

PCB 的组织方式（根据不同的状态来组织）：索引表结构，或链接表结构。

### 进程控制

进程控制的任务就是通过控制进程的状态的变化，使各个进程有条不紊地推进，从而实现对系统中全部进程的有效管理。

进程控制是由进程使用操作系统提供的一组系统调用来实现的，且这些系统调用都具有原语的性质，故也称为进程控制原语。

原语：是执行一定功能的程序段，它的执行不可中断，好像执行一条指令一样。原语具有原子操作性，即一个操作的所有动作，要么全做，要么全不做。这种原子性通过屏蔽中断来实现。


- 创建原语 - 为被创建的进程建立一个 PCB，并填入相应的初始项。
- 撤销原语 - 收回被撤销的进程占用的所有资源，并撤销它的 PCB。
    >撤销进程原语应由父进程或祖先进程发出。进程一般不能自己撤销自己 。进程一般不能自己撤销自己。
- 阻塞原语 - 将进程有执行状态或其他状态转为阻塞状态。
- 唤醒原语 - ：由"发现者"进程将处于阻塞状态的进程有阻塞状态变为就绪状态。（发现者进程与被唤醒的进程之间存在制约关系，或者是监视事件发生地系统进程）

## 进程状态和进程控制

操作系统进程管理的核心任务是为了多个进程合理地分配处理机资源，这就是处理机调度。因为处理机调度是面向进程的，所以又称进程调度。

### 进程调度的功能
在系统运行过程中，由于多个进程需要轮流使用处理机，所以完成分配处理机任务的进程调度是系统中最频繁的工作，也是操作系统核心的重要组成部分。

进程调度的主要功能是：

1. 记录：记录当前进程的情况，如进程名、指令计数器、状态寄存器及所有通用寄存器等现场信息，将这些信息记录在它的进程控制块中。
2. 确定哪一个：根据一定的调度算法，确定就绪队列中哪一个进程能获得处理机，以及占有多长时间
3. 回收和分配处理机。当前进程转入适当的状态后，系统回收处理机，然后把处理机分配给算法选中的下一个进程。



### 进程调度性能标准

在系统完成进程调度时，最关键的是调度算法。操作系统的设计目标和工作效率主要进程调度算法性能决定。

面向用户的指标：周转时间短、响应时间快、截止时间的保证、优先权准则。

1. 响应时间 从用户提出请求，到系统首次产生响应所经历的时间。
2. 周转时间 从用作业提交给系统开始，到作业完成为止。
3. 截止时间 某任务必须开始执行的最迟时间。
4. 运行时间 处理器+I/O，指进程获得处理器，处于 CPU-I/O 的执行期

面向系统的指标：系统的吞吐量高、处理机的利用率好、各类资源的平衡利用


### 进程调度方式


### 进程调度算法



