<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ScrollAnimator - Animation Delay æ»šåŠ¨é©±åŠ¨åŠ¨ç”»</title>
<!--
  ============================================
  ScrollAnimator æ»šåŠ¨åŠ¨ç”»ç³»ç»Ÿæ¼”ç¤º
  Animation Delay ç‰ˆæœ¬
  ============================================
  
  ğŸ¯ æ ¸å¿ƒæŠ€æœ¯ï¼š
  è¿™æ˜¯ä¸€ä¸ªé€šè¿‡æ§åˆ¶ CSS animation-delay å®ç°æ»šåŠ¨é©±åŠ¨åŠ¨ç”»çš„ç³»ç»Ÿ
  
  ğŸ§  æ ¸å¿ƒåŸç†ï¼š
  1. CSS å®šä¹‰ @keyframes åŠ¨ç”»ï¼Œè®¾ç½® animation-play-state: paused
  2. ç›‘å¬ window.scroll äº‹ä»¶
  3. æ ¹æ®æ»šåŠ¨ä½ç½®è®¡ç®—åŠ¨ç”»è¿›åº¦ï¼ˆprogress = scrollY / scrollRangeï¼‰
  4. è®¡ç®—åŠ¨ç”»åº”è¯¥å¤„äºçš„æ—¶é—´ç‚¹ï¼ˆcurrentTime = duration * progressï¼‰
  5. è®¾ç½®è´Ÿçš„ animation-delayï¼ˆanimation-delay = -currentTimeï¼‰
  6. æµè§ˆå™¨è‡ªåŠ¨æ¸²æŸ“åˆ°å¯¹åº”æ—¶é—´å¸§çš„çŠ¶æ€
  
  ğŸ”‘ å…³é”®ç‚¹ï¼š
  - animation-play-state: paused â†’ åŠ¨ç”»æš‚åœï¼Œä¸ä¼šè‡ªåŠ¨æ’­æ”¾
  - animation-delay: -Xs â†’ è¡¨ç¤ºåŠ¨ç”»å·²æ’­æ”¾ X ç§’ï¼Œæµè§ˆå™¨æ¸²æŸ“åˆ°è¯¥å¸§
  - é€šè¿‡ JS åŠ¨æ€ä¿®æ”¹ delayï¼Œå®ç°"æ‰‹åŠ¨æ‹–åŠ¨"åŠ¨ç”»è¿›åº¦
  
  âœ… ä¼˜åŠ¿ï¼š
  - åˆ©ç”¨ CSS åŠ¨ç”»å¼•æ“ï¼Œæ€§èƒ½æ›´ä¼˜
  - ä»£ç æ›´ç®€æ´ï¼Œé€»è¾‘æ›´æ¸…æ™°
  - æ”¯æŒå¤æ‚çš„å¤šå±æ€§åŠ¨ç”»
  - æµè§ˆå™¨ç¡¬ä»¶åŠ é€Ÿ
  - æ˜“äºç»´æŠ¤å’Œæ‰©å±•
  
  ğŸ“¦ é€‚ç”¨åœºæ™¯ï¼š
  - äº§å“ä»‹ç»é¡µé¢çš„æ»šåŠ¨åŠ¨ç”»
  - æ•°æ®å¯è§†åŒ–çš„æ¸è¿›å±•ç¤º
  - é•¿é¡µé¢çš„è§†è§‰å¼•å¯¼
  - äº¤äº’å¼æ•…äº‹å™è¿°
-->
<style>
  /**
   * åŸºç¡€æ ·å¼é‡ç½®
   */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  /**
   * é¡µé¢ä¸»ä½“æ ·å¼
   * height: 400vh åˆ›å»ºè¶³å¤Ÿçš„æ»šåŠ¨ç©ºé—´ï¼ˆ4å€è§†å£é«˜åº¦ï¼‰
   */
  body {
    height: 400vh;
    background: linear-gradient(180deg, #ffffff 0%, #f5f5f5 50%, #e0e0e0 100%);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    overflow-x: hidden;
  }

  /**
   * å›ºå®šé¡¶éƒ¨æ ‡é¢˜æ 
   * backdrop-filter å®ç°æ¯›ç»ç’ƒæ•ˆæœ
   */
  .header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    padding: 20px;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    text-align: center;
  }

  .header h1 {
    font-size: 24px;
    color: #333;
    margin-bottom: 5px;
    font-weight: 600;
  }

  .header p {
    font-size: 14px;
    color: #666;
  }

  /**
   * æ»šåŠ¨ä½ç½®æŒ‡ç¤ºå™¨
   * å®æ—¶æ˜¾ç¤ºå½“å‰æ»šåŠ¨ä½ç½®
   */
  .scroll-indicator {
    position: fixed;
    top: 100px;
    right: 20px;
    padding: 10px 15px;
    background: rgba(0, 0, 0, 0.7);
    color: white;
    border-radius: 8px;
    font-size: 12px;
    font-family: 'Courier New', monospace;
    z-index: 999;
    min-width: 150px;
  }

  .scroll-indicator .label {
    opacity: 0.7;
    font-size: 10px;
  }

  .scroll-indicator .value {
    font-size: 16px;
    font-weight: bold;
    color: #4caf50;
  }

  /**
   * åŠ¨ç”»ç›’å­å®¹å™¨
   * padding-top ä¸ºé¡¶éƒ¨æ ‡é¢˜æ ç•™å‡ºç©ºé—´
   */
  .box-container {
    position: relative;
    padding-top: 100px;
  }

  /**
   * ========================================
   * CSS @keyframes åŠ¨ç”»å®šä¹‰
   * ========================================
   * 
   * è¿™äº›åŠ¨ç”»ä¼šè¢« ScrollAnimator é€šè¿‡ animation-delay æ§åˆ¶
   * æ¯ä¸ªåŠ¨ç”»éƒ½è®¾ç½®äº† animation-play-state: pausedï¼Œä¸ä¼šè‡ªåŠ¨æ’­æ”¾
   */
  
  /* åŠ¨ç”»1: ä»ä¸‹æ–¹æ·¡å…¥ */
  @keyframes fadeUp {
    from {
      transform: translateY(100px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* åŠ¨ç”»2: ç¼©æ”¾æ·¡å…¥ */
  @keyframes scaleIn {
    from {
      transform: scale(0.5);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }

  /* åŠ¨ç”»3: ä»å·¦ä¾§æ»‘å…¥ */
  @keyframes slideLeft {
    from {
      transform: translateX(-100px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  /* åŠ¨ç”»4: æ—‹è½¬ä¸Šå‡ */
  @keyframes rotateUp {
    from {
      transform: translateY(200px) rotate(-45deg);
      opacity: 0;
    }
    to {
      transform: translateY(0) rotate(0deg);
      opacity: 1;
    }
  }

  /* åŠ¨ç”»5: æ—‹è½¬ç¼©æ”¾ */
  @keyframes spinScale {
    from {
      transform: rotate(-90deg) scale(0.3);
      opacity: 0;
    }
    to {
      transform: rotate(0deg) scale(1);
      opacity: 1;
    }
  }

  /* åŠ¨ç”»6: ä»å³ä¾§ç¼©æ”¾è¿›å…¥ */
  @keyframes slideRightScale {
    from {
      transform: translateX(100px) scale(0.3);
      opacity: 0;
    }
    to {
      transform: translateX(0) scale(1);
      opacity: 1;
    }
  }

  /* åŠ¨ç”»7: å¤§å¹…ä¸Šå‡ç¼©æ”¾ */
  @keyframes zoomUp {
    from {
      transform: translateY(150px) scale(1.5);
      opacity: 0;
    }
    to {
      transform: translateY(0) scale(1);
      opacity: 1;
    }
  }

  /* åŠ¨ç”»8: æ—‹è½¬æ»‘å…¥ */
  @keyframes twistIn {
    from {
      transform: translateX(150px) rotate(45deg);
      opacity: 0;
    }
    to {
      transform: translateX(0) rotate(0deg);
      opacity: 1;
    }
  }

  /* åŠ¨ç”»9: å¼¹å‡ºæ•ˆæœ */
  @keyframes popIn {
    from {
      transform: translateY(100px) scale(0.5);
      opacity: 0;
    }
    to {
      transform: translateY(0) scale(1);
      opacity: 1;
    }
  }

  /* åŠ¨ç”»10: ç¿»è½¬è¿›å…¥ */
  @keyframes flipIn {
    from {
      transform: scale(0.5) rotate(180deg);
      opacity: 0;
    }
    to {
      transform: scale(1) rotate(0deg);
      opacity: 1;
    }
  }

  /**
   * åŠ¨ç”»ç›’å­åŸºç¡€æ ·å¼
   * 
   * position: sticky - å…ƒç´ åœ¨æ»šåŠ¨æ—¶å›ºå®šåœ¨è§†å£ä¸­
   * top: 40% - å›ºå®šåœ¨è§†å£ 40% çš„ä½ç½®
   * 
   * ğŸ”‘ æ ¸å¿ƒè®¾ç½®ï¼š
   * - animation: 2s linear forwards - è®¾ç½®åŠ¨ç”»æ—¶é•¿å’Œæ¨¡å¼
   * - animation-play-state: paused - æš‚åœåŠ¨ç”»ï¼Œä¸ä¼šè‡ªåŠ¨æ’­æ”¾
   * - animation-delay ä¼šè¢« JS åŠ¨æ€è®¾ç½®
   */
  .box {
    position: sticky;
    top: 40%;
    width: 150px;
    height: 150px;
    margin: 0 auto;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    color: white;
    font-size: 48px;
    font-weight: bold;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    transition: box-shadow 0.3s ease;
    will-change: transform, opacity; /* ä¼˜åŒ–åŠ¨ç”»æ€§èƒ½ */
    
    /* ğŸ¯ å…³é”®ï¼šåŠ¨ç”»è®¾ç½® */
    animation: 2s linear forwards;
    animation-play-state: paused; /* æš‚åœçŠ¶æ€ï¼Œé€šè¿‡ JS æ§åˆ¶ */
  }

  .box:hover {
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
  }

  .box .label {
    font-size: 12px;
    margin-top: 5px;
    opacity: 0.8;
  }

  /* ä¸ºæ¯ä¸ªç›’å­åˆ†é…å¯¹åº”çš„åŠ¨ç”» */
  .box:nth-child(1) { animation-name: fadeUp; }
  .box:nth-child(2) { animation-name: scaleIn; }
  .box:nth-child(3) { animation-name: slideLeft; }
  .box:nth-child(4) { animation-name: rotateUp; }
  .box:nth-child(5) { animation-name: spinScale; }
  .box:nth-child(6) { animation-name: slideRightScale; }
  .box:nth-child(7) { animation-name: zoomUp; }
  .box:nth-child(8) { animation-name: twistIn; }
  .box:nth-child(9) { animation-name: popIn; }
  .box:nth-child(10) { animation-name: flipIn; }

  /**
   * é¡µè„šæç¤ºä¿¡æ¯
   */
  .footer {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 10px 20px;
    background: rgba(0, 0, 0, 0.7);
    color: white;
    border-radius: 20px;
    font-size: 12px;
    z-index: 999;
  }

  /**
   * æ§åˆ¶é¢æ¿æ ·å¼
   */
  .control-panel {
    position: fixed;
    bottom: 80px;
    left: 20px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    z-index: 999;
    font-size: 12px;
  }

  .control-panel h3 {
    margin-bottom: 10px;
    font-size: 14px;
    color: #333;
  }

  .control-panel button {
    margin: 5px 0;
    padding: 8px 12px;
    background: #2196f3;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 12px;
    width: 100%;
  }

  .control-panel button:hover {
    background: #1976d2;
  }

  .control-panel .status {
    margin-top: 10px;
    padding: 8px;
    background: #f5f5f5;
    border-radius: 5px;
    font-family: 'Courier New', monospace;
    font-size: 11px;
  }
</style>
</head>
<body>

<!-- é¡µé¢æ ‡é¢˜ -->
<div class="header">
  <h1>ğŸ¬ ScrollAnimator - Animation Delay ç‰ˆ</h1>
  <p>é€šè¿‡ animation-delay æ§åˆ¶æ»šåŠ¨é©±åŠ¨åŠ¨ç”» | CSS åŠ¨ç”»å¼•æ“ | æ€§èƒ½ä¼˜åŒ–</p>
</div>

<!-- æ»šåŠ¨ä½ç½®æŒ‡ç¤ºå™¨ -->
<div class="scroll-indicator">
  <div class="label">æ»šåŠ¨ä½ç½®</div>
  <div class="value"><span id="scroll-pos">0</span> px</div>
</div>

<!-- æ§åˆ¶é¢æ¿ -->
<div class="control-panel">
  <h3>ğŸ® æ§åˆ¶é¢æ¿</h3>
  <button onclick="scrollToTop()">â¬†ï¸ å›åˆ°é¡¶éƒ¨</button>
  <button onclick="toggleDebug()">ğŸ› åˆ‡æ¢è°ƒè¯•æ¨¡å¼</button>
  <button onclick="showAnimatorInfo()">â„¹ï¸ æŸ¥çœ‹åŠ¨ç”»ä¿¡æ¯</button>
  <div class="status">
    <div>åŠ¨ç”»æ•°é‡: <span id="anim-count">0</span></div>
    <div>è°ƒè¯•æ¨¡å¼: <span id="debug-status">å¼€å¯</span></div>
  </div>
</div>

<!-- åŠ¨ç”»ç›’å­å®¹å™¨ -->
<div class="box-container" id="box-container">
  <!-- ç›’å­å°†é€šè¿‡ JS åŠ¨æ€åˆ›å»º -->
</div>

<!-- é¡µè„šæç¤º -->
<div class="footer">
  ğŸ‘‡ å‘ä¸‹æ»šåŠ¨æŸ¥çœ‹åŠ¨ç”»æ•ˆæœ | æ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯
</div>

<!-- å¼•å…¥ ScrollAnimator SDK -->
<script src="./ScrollAnimator.js"></script>

<script>
/**
 * ============================================
 * ScrollAnimator é…ç½®æ–‡ä»¶ - Animation Delay ç‰ˆæœ¬
 * ============================================
 * 
 * ğŸ¯ é…ç½®é¡¹è¯´æ˜ï¼š
 * 
 * @param {string} selector - CSS é€‰æ‹©å™¨ï¼Œç”¨äºå®šä½è¦åº”ç”¨åŠ¨ç”»çš„å…ƒç´ 
 * @param {string} animationName - CSS åŠ¨ç”»åç§°ï¼ˆå¯¹åº” @keyframes ä¸­å®šä¹‰çš„åç§°ï¼‰
 * @param {number} duration - åŠ¨ç”»æ—¶é•¿ï¼ˆç§’ï¼‰
 * @param {number} scrollStart - åŠ¨ç”»å¼€å§‹çš„æ»šåŠ¨ä½ç½®ï¼ˆåƒç´ ï¼‰
 * @param {number} scrollEnd - åŠ¨ç”»ç»“æŸçš„æ»šåŠ¨ä½ç½®ï¼ˆåƒç´ ï¼‰
 * @param {Function} onEnter - è¿›å…¥åŠ¨ç”»åŒºåŸŸæ—¶çš„å›è°ƒï¼ˆå¯é€‰ï¼‰
 * @param {Function} onLeave - ç¦»å¼€åŠ¨ç”»åŒºåŸŸæ—¶çš„å›è°ƒï¼ˆå¯é€‰ï¼‰
 * @param {Function} onUpdate - åŠ¨ç”»æ›´æ–°æ—¶çš„å›è°ƒï¼ˆå¯é€‰ï¼‰
 * 
 * ğŸ”‘ æ ¸å¿ƒåŸç†ï¼š
 * - CSS å·²å®šä¹‰ @keyframes åŠ¨ç”»ï¼Œè®¾ç½®äº† animation-play-state: paused
 * - JS æ ¹æ®æ»šåŠ¨ä½ç½®è®¡ç®— progressï¼ˆ0-1ï¼‰
 * - currentTime = duration * progress
 * - è®¾ç½® animation-delay = -currentTime
 * - æµè§ˆå™¨ä¼šæ¸²æŸ“åˆ°å¯¹åº”æ—¶é—´å¸§çš„çŠ¶æ€
 */
const animationConfig = [
  // åŠ¨ç”» 1: ä»ä¸‹æ–¹æ·¡å…¥
  {
    selector: '.box:nth-child(1)',
    animationName: 'fadeUp',
    duration: 2,
    scrollStart: 100,
    scrollEnd: 500,
    onEnter: (el) => console.log('âœ… ç›’å­ 1 è¿›å…¥è§†é‡'),
    onLeave: (el) => console.log('âŒ ç›’å­ 1 ç¦»å¼€è§†é‡')
  },
  
  // åŠ¨ç”» 2: ç¼©æ”¾æ·¡å…¥
  {
    selector: '.box:nth-child(2)',
    animationName: 'scaleIn',
    duration: 2,
    scrollStart: 400,
    scrollEnd: 900
  },
  
  // åŠ¨ç”» 3: ä»å·¦ä¾§æ»‘å…¥
  {
    selector: '.box:nth-child(3)',
    animationName: 'slideLeft',
    duration: 2,
    scrollStart: 800,
    scrollEnd: 1300
  },
  
  // åŠ¨ç”» 4: æ—‹è½¬ä¸Šå‡
  {
    selector: '.box:nth-child(4)',
    animationName: 'rotateUp',
    duration: 2,
    scrollStart: 1200,
    scrollEnd: 1700
  },
  
  // åŠ¨ç”» 5: æ—‹è½¬ç¼©æ”¾
  {
    selector: '.box:nth-child(5)',
    animationName: 'spinScale',
    duration: 2,
    scrollStart: 1600,
    scrollEnd: 2100
  },
  
  // åŠ¨ç”» 6: ä»å³ä¾§ç¼©æ”¾è¿›å…¥
  {
    selector: '.box:nth-child(6)',
    animationName: 'slideRightScale',
    duration: 2,
    scrollStart: 2000,
    scrollEnd: 2500
  },
  
  // åŠ¨ç”» 7: å¤§å¹…ä¸Šå‡ç¼©æ”¾
  {
    selector: '.box:nth-child(7)',
    animationName: 'zoomUp',
    duration: 2,
    scrollStart: 2400,
    scrollEnd: 2900
  },
  
  // åŠ¨ç”» 8: æ—‹è½¬æ»‘å…¥
  {
    selector: '.box:nth-child(8)',
    animationName: 'twistIn',
    duration: 2,
    scrollStart: 2800,
    scrollEnd: 3300
  },
  
  // åŠ¨ç”» 9: å¼¹å‡ºæ•ˆæœ
  {
    selector: '.box:nth-child(9)',
    animationName: 'popIn',
    duration: 2,
    scrollStart: 3200,
    scrollEnd: 3700
  },
  
  // åŠ¨ç”» 10: ç¿»è½¬è¿›å…¥
  {
    selector: '.box:nth-child(10)',
    animationName: 'flipIn',
    duration: 2,
    scrollStart: 3600,
    scrollEnd: 4000,
    onEnter: (el) => console.log('ğŸ‰ æœ€åä¸€ä¸ªç›’å­è¿›å…¥è§†é‡ï¼')
  }
];

/**
 * ç›’å­æ ·å¼é…ç½®
 * å®šä¹‰æ¯ä¸ªç›’å­çš„èƒŒæ™¯è‰²å’Œæ˜¾ç¤ºæ–‡æœ¬
 */
const boxStyles = [
  { background: 'linear-gradient(135deg, #f44336, #e91e63)', number: '1', label: 'Fade Up' },
  { background: 'linear-gradient(135deg, #2196f3, #03a9f4)', number: '2', label: 'Scale' },
  { background: 'linear-gradient(135deg, #4caf50, #8bc34a)', number: '3', label: 'Slide Left' },
  { background: 'linear-gradient(135deg, #ff9800, #ffc107)', number: '4', label: 'Rotate' },
  { background: 'linear-gradient(135deg, #9c27b0, #ba68c8)', number: '5', label: 'Spin' },
  { background: 'linear-gradient(135deg, #00bcd4, #26c6da)', number: '6', label: 'Slide Right' },
  { background: 'linear-gradient(135deg, #cddc39, #d4e157)', number: '7', label: 'Zoom' },
  { background: 'linear-gradient(135deg, #795548, #8d6e63)', number: '8', label: 'Twist' },
  { background: 'linear-gradient(135deg, #607d8b, #78909c)', number: '9', label: 'Pop' },
  { background: 'linear-gradient(135deg, #e91e63, #f06292)', number: '10', label: 'Flip' }
];

/**
 * åŠ¨æ€åˆ›å»ºç›’å­å…ƒç´ 
 * ä½¿ç”¨åŸç”Ÿ JavaScript åˆ›å»º DOM å…ƒç´ ï¼Œé¿å…ç¡¬ç¼–ç  HTML
 * 
 * @returns {void}
 */
function createBoxes() {
  const container = document.getElementById('box-container');
  
  boxStyles.forEach((style, index) => {
    // åˆ›å»ºç›’å­å…ƒç´ 
    const box = document.createElement('div');
    box.className = 'box';
    box.style.background = style.background;
    
    // åˆ›å»ºæ•°å­—æ˜¾ç¤º
    const number = document.createElement('div');
    number.textContent = style.number;
    box.appendChild(number);
    
    // åˆ›å»ºæ ‡ç­¾æ˜¾ç¤º
    const label = document.createElement('div');
    label.className = 'label';
    label.textContent = style.label;
    box.appendChild(label);
    
    // æ·»åŠ åˆ°å®¹å™¨
    container.appendChild(box);
  });

  console.log(`âœ… æˆåŠŸåˆ›å»º ${boxStyles.length} ä¸ªåŠ¨ç”»ç›’å­`);
}

/**
 * æ›´æ–°æ»šåŠ¨ä½ç½®æŒ‡ç¤ºå™¨
 * å®æ—¶æ˜¾ç¤ºå½“å‰æ»šåŠ¨ä½ç½®
 * 
 * @returns {void}
 */
function updateScrollIndicator() {
  const scrollPosElement = document.getElementById('scroll-pos');
  
  window.addEventListener('scroll', () => {
    scrollPosElement.textContent = Math.round(window.scrollY);
  }, { passive: true });
}

/**
 * å›åˆ°é¡¶éƒ¨
 */
function scrollToTop() {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
}

/**
 * åˆ‡æ¢è°ƒè¯•æ¨¡å¼
 */
function toggleDebug() {
  if (window.animator) {
    window.animator.debug = !window.animator.debug;
    document.getElementById('debug-status').textContent = window.animator.debug ? 'å¼€å¯' : 'å…³é—­';
    console.log(`ğŸ› è°ƒè¯•æ¨¡å¼: ${window.animator.debug ? 'å¼€å¯' : 'å…³é—­'}`);
  }
}

/**
 * æ˜¾ç¤ºåŠ¨ç”»ä¿¡æ¯
 */
function showAnimatorInfo() {
  if (window.animator) {
    console.log('ğŸ“Š ScrollAnimator ä¿¡æ¯:');
    console.table(window.animator.animations.map(a => ({
      é€‰æ‹©å™¨: a.selector,
      å¼€å§‹ä½ç½®: a.scrollStart,
      ç»“æŸä½ç½®: a.scrollEnd,
      ç¼“åŠ¨å‡½æ•°: a.easing || 'linear',
      æ˜¯å¦åœ¨èŒƒå›´å†…: a._isInRange
    })));
  }
}

/**
 * åˆå§‹åŒ–åº”ç”¨
 * 
 * æ‰§è¡Œæµç¨‹ï¼š
 * 1. åˆ›å»ºç›’å­å…ƒç´ ï¼ˆå¿…é¡»å…ˆåˆ›å»ºï¼ŒScrollAnimator æ‰èƒ½æ‰¾åˆ°å…ƒç´ ï¼‰
 * 2. åˆå§‹åŒ– ScrollAnimator å®ä¾‹
 * 3. è®¾ç½®æ»šåŠ¨æŒ‡ç¤ºå™¨
 * 4. æš´éœ²å…¨å±€å˜é‡æ–¹ä¾¿è°ƒè¯•
 * 
 * @returns {void}
 */
function init() {
  console.log('ğŸš€ å¼€å§‹åˆå§‹åŒ– ScrollAnimator...');
  
  // 1. åˆ›å»ºç›’å­å…ƒç´ 
  createBoxes();

  // 2. åˆå§‹åŒ– ScrollAnimator
  // ä¼ å…¥åŠ¨ç”»é…ç½®æ•°ç»„å’Œé€‰é¡¹å¯¹è±¡
  const animator = new ScrollAnimator(animationConfig, {
    debug: true // å¼€å¯è°ƒè¯•æ¨¡å¼ï¼Œåœ¨æ§åˆ¶å°æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
  });

  // 3. æ›´æ–°æ»šåŠ¨æŒ‡ç¤ºå™¨
  updateScrollIndicator();

  // 4. æ›´æ–°æ§åˆ¶é¢æ¿çŠ¶æ€
  document.getElementById('anim-count').textContent = animator.animations.length;
  document.getElementById('debug-status').textContent = animator.debug ? 'å¼€å¯' : 'å…³é—­';

  // 5. å°† animator å®ä¾‹æš´éœ²åˆ°å…¨å±€ï¼Œæ–¹ä¾¿è°ƒè¯•
  window.animator = animator;

  console.log('âœ… ScrollAnimator åˆå§‹åŒ–å®Œæˆï¼');
  console.log('ğŸ’¡ æç¤ºï¼šæ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯');
  console.log('ğŸ’¡ æç¤ºï¼šå¯é€šè¿‡ window.animator è®¿é—®åŠ¨ç”»å®ä¾‹');
  console.log('ğŸ’¡ å¯ç”¨æ–¹æ³•ï¼š');
  console.log('   - animator.update() - æ‰‹åŠ¨æ›´æ–°åŠ¨ç”»');
  console.log('   - animator.destroy() - é”€æ¯åŠ¨ç”»ç³»ç»Ÿ');
  console.log('   - animator.addAnimation(config) - æ·»åŠ æ–°åŠ¨ç”»');
  console.log('   - animator.removeAnimation(selector) - ç§»é™¤åŠ¨ç”»');
}

/**
 * DOM åŠ è½½å®Œæˆååˆå§‹åŒ–
 * ç¡®ä¿åœ¨ DOM å‡†å¤‡å¥½ä¹‹åå†æ‰§è¡Œåˆå§‹åŒ–
 */
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', init);
} else {
  init();
}
</script>

</body>
</html>