# 曲线

RGB通道曲线，它是由红（R）绿（G）蓝（B）三个通道的曲线叠加而成的，可以“近似的”理解成图片的亮度曲线。

RGB曲线调整的核心其实就是对原图亮度的变换。

**曲线的横轴是原图的亮度**，从左到右依次是0值纯黑，1-254的中间灰色值，以及最右边255的纯白最亮值。

**曲线的纵轴是目标图（调整后）的亮度**，从下到上任然是0-255的亮度值。


横轴上还显示着一个直方图，占示出原图各个亮度上，分别存在着多少像素。




当中的那根线就是我们的“曲线”。


当我们在曲线上任意取一个点，它的“输入值”就是它横轴对应的值，即原图中的亮度，它的“输出值”就是它纵轴中的数值，也就是调整后它的亮度值。


未调整的情况下，图像的曲线会是一条对角线，也就是横轴（原图）和纵轴（目标图）的亮度值相等。比如我在曲线上取了一个点，它的输入和输出值都是193.

![曲线1](/study/imgs/quxian1.jpeg)

如果我把这个点往上移动，可以看到这个点的输出值变成了232。这意味着原图直方图上那些193亮度的点，都被提亮到了更亮的232。

同时我们可以发现曲线的一个特点，**当我们变动一个点的时候，旁边的点也会跟着一起变化，离调整点越远的点变化越小**。这样使得曲线调整的图片，大多数情况都比较的平滑自然。

![曲线2](/study/imgs/quxian2.webp)

通过在曲线上添加控制点（锚点），我们就可以把曲线变成各种各样的形态，从而达到我们想要的影调效果。接下来我就会通过一些基本的曲线形态，来进一步的解释曲线。

![曲线3](/study/imgs/quxian3.jpeg)

## 提亮压暗曲线

提亮和压暗一张图片，并不是我们想象中的对图片中所有点都加大减小同样的亮度值。比如下面这个曲线，就是把图像上所有的点亮度都提高了64。这样造成了2个不好的结果：

1. 图片的高光区域直接过曝溢出了
2. 图片的阴影和黑色区域亮度大大提高，使得图片黑场不足，严重发灰。
   
![曲线4](/study/imgs/quxian4.jpeg)

所以我们一般提亮图片都是用如下的曲线，把锚点放在中间调附近往上提。这样照片主要是中间调的亮度大幅提高。高光区域亮度提高较少，防止了过曝。阴影黑色区域提升也不多，较好的维持了图像的对比反差程度

![曲线5](/study/imgs/quxian5.webp)

同样的，我们要压暗一张图片，也是用描点下拉图片的中间调。保护阴影区域不欠曝，让高光白色区域维持住对比度。

![曲线6](/study/imgs/quxian6.webp)

## 黑白场曲线

我们把照片上最暗的点叫做**黑场**，最亮的点叫做**白场**，**黑白场的差值决定了一张照片的反差程度**。

通过横移和竖移曲线的左右两端，就可以加大和减小照片的黑白场差值


比如下面这张图片就是一张灰蒙蒙的低反差图片，照片最暗的地方也只是亮度高达50多的深灰色，照片最亮的地方也只是200多的浅灰色。照片的黑色和白色区域完全没有像素。

![曲线7](/study/imgs/quxian7.jpeg)

所以我把曲线最右侧横向左移，此时原来亮度值（输入值）219的像素，全部被提亮到了255（输出值）的纯白色。照片中终于有了亮白的部分。

![曲线8](/study/imgs/quxian8.webp)

同样我在曲线最左侧建立一个锚点，横向右拉，此时原来亮度值55的深灰色区域，就全部输出成了亮度为0的纯黑区域。照片中又有了深黑色。通过这两步，我们加大了照片黑白场的差距，照片的反差就大大提高了。

![曲线9](/study/imgs/quxian9.webp)

黑白场差值大的图片一般层次丰富，鲜艳锐利。但是照片的黑白场差值并不是越高越好。一个很大的误区就是照片的黑场一定要是0，白场必须为255。

实则不然，比如这张照片，照片的黑场是0，照片中有许多深黑区域，显得反差比较大，可能并不是我们想要的效果。

![曲线10](/study/imgs/quxian10.webp)

实则不然，比如这张照片，照片的黑场是0，照片中有许多深黑区域，显得反差比较大，可能并不是我们想要的效果。

![曲线11](/study/imgs/quxian11.webp)

我在曲线最左侧建立一个锚点，纵向上拉。这样输入值为0的纯黑部分，亮度被提高到了38。照片中不再有纯黑，最暗的部分（也就是黑场）也是亮度38的深灰色，这样的照片看起来更加的朦胧淡雅，符合我们想要的气氛。


## 对比度曲线

对比度曲线，其实就是摄影里几乎人人皆知的**S型曲线**和**反S型曲线**了。

![曲线12](/study/imgs/quxian12.webp)



**增强对比度曲线（S型曲线）**，其实就是在高光处建立锚点并提高，在阴影处建立锚点并降低，拉出一个像英语字母S一样的曲线。


![曲线13](/study/imgs/quxian13.webp)




仔细观察S曲线，或许我们就能理解到其背后的原理。前面的教程我们提到过，一张照片按亮度从低到高分为黑色，阴影，中间调（曝光度），高光和白色5个部分。

![曲线14](/study/imgs/quxian14.webp)


其中中间调区域的过渡与细节最为细腻。可以看到S型曲线中间部分，输入和输出值变化很小。所以S曲线在中间调区域的影响并不大，很好的保护了照片细节最丰富的部分。



白色和黑色区域在最两端，S型曲线对这些亮度区域的改变也不大，有效防止了过曝和欠曝溢出。

S曲线主要是提高了原来照片中高光部分的亮度，降低了阴影部分的亮度，让照片的影调更加偏向硬调。因此S曲线在保护黑白色与中间调细节的前提下，有效的提高了照片的对比度，几乎成为了大部分照片必用的一步。


类似的，如果我们降低高光锚点，提高阴影锚点，形成一个反S的形状。就是降低对比度曲线了。

## 应用曲线局部调整

前面三个曲线形态都是作用在照片的全局。但数码后期的一个核心思路，就是局部调整照片不同的区域，让每个区域在展现出最好效果的同时不要影响到其他区域。

比如这张图片，雪山和湖之间的草地一片漆黑，需要提亮。

![曲线15](/study/imgs/quxian15.webp)





如果我直接应用提亮曲线，草地倒是变亮了，但雪山（高光部分）和天空（中间调部分）一下子就过曝了。
![曲线16](/study/imgs/quxian16.webp)




所以我需要建立两个锚点，把提亮的高光和中间调部分重新拉回来。这样这条曲线就只提高了照片阴影部分的亮度。

![曲线17](/study/imgs/quxian17.webp)





在局部调整曲线时，有一个非常有用的工具。就是圆圈中那个手一样的图标，点击它之后再把鼠标移动到图像里面，鼠标就会变成一个吸管，同时在右边曲线面板里，会实时显示吸管所在点对应在曲线里的位置。



单击吸管，吸管所在的点，就会对应成一个锚点记录在直方图上，方便我们调整。

![曲线18](/study/imgs/quxian18.webp)


比如这张图，我想降低深色的山体的亮度，同时又保持住白色雾气的亮度。所以我选择“手”图标后，先在红圈1的山体处点一下，曲线中对应建立了1锚点。再在雾气的红圈2处点一下，曲线中就建立了对应的2锚点。

![曲线19](/study/imgs/quxian19.webp)


这样我下压1锚点，同时保持住2锚点，就只降低了阴影的山体区域，而高光的雾气则没有被影响。


三种基本曲线虽然看起来都很简单，但当我们把这些基本形态结合起来的时候，却可以创作出丰富多样的复杂效果。

## 曲线组合应用：胶片效果曲线

下图是一张泰国美功铁路市场的照片，如果我们想让它更有胶片味儿。应该怎么调整呢？

![曲线20](/study/imgs/quxian20.webp)






最简单的办法就是直接套用PS里的颜色查找表（3D-Lut）工具了。各种预设好的胶片LUT，可以快速的让图片带上不同类型胶片的影调和色调。不过其实这些效果也是可以通过曲线来完成的。

仔细观察下面这张套用 柯达5218胶片 LUT 的成片效果，可以发现它的直方图在保持对比度的同时有一个明显的右移，黑色区域完全没有像素。发灰的暗部给了我们一种照片暗部细节非常丰富的错觉，看起来就像是用高宽容度的胶片拍摄的。

![曲线21](/study/imgs/quxian21.webp)





要消除直方图中的黑色像素很简单，使用我们学过的黑白场曲线，（竖直向上）提高照片的黑场锚点即可。

![曲线22](/study/imgs/quxian22.webp)



不过这样不仅照片的暗部发灰，中间调和高光也变灰了。所以为了恢复对比度，我再在上面曲线的基础上拉一个S型曲线（增加对比度曲线）。这样这张照片就获得了很多胶片类似的影调，暗部发灰但对比度又很足。

![曲线23](/study/imgs/quxian23.webp)



之后我们可以继续应用可选颜色、渐变映射、色相饱和度等等调色工具，给照片加上胶片的色调，这些色彩调整工具会在以后的教程中继续展开。

![曲线24](/study/imgs/quxian24.webp)


这里的胶片曲线=提高黑场曲线+增强对比度曲线。我们并不需要记忆这个公式，因为有的胶片效果反而是需要减少对比度的。

只要理解了三种基本的曲线形态，各种各样的效果我们都是可以组合出来的。

## 曲线组合应用：暗调效果曲线

下图是一张英国七姐妹白崖的照片，如果我们想让它更加的阴沉，仿佛世界尽头一样。应该怎么调整呢？


![曲线25](/study/imgs/quxian25.webp)

直接运用我们学过的压暗曲线，可以发现照片的中间调已经达到了我们想要的低沉影调。

![曲线26](/study/imgs/quxian26.jpeg)

但是这样的话暗部几乎一片漆黑，失去了细节。所以我在暗部再增加一个锚点上拉，相当于在暗部又局部的应用了提亮曲线。


![曲线27](/study/imgs/quxian27.webp)

这样虽然暗部细节回来了，但是阴影部分发灰严重，乌云已经完全失去了立体感。所以再在暗部建立2个锚点，叠加上一条S型曲线，提高暗部的对比度。可以发现天上的乌云内部的层次对比又展现了出来。

![曲线28](/study/imgs/quxian28.webp)

最后在高光区也建立一个锚点上拉，相当于在高光部分叠加了一个局部提亮曲线，重新恢复了高光的亮度。

![曲线29](/study/imgs/quxian29.webp)

这张暗调照片的最后曲线=全局压暗曲线+暗部提亮曲线+暗部增加对比度曲线+亮部提亮曲线。

看起来很复杂，其实只要理解了原理非常简单，三种基本曲线的一步步的叠加应用而已。


![曲线30](/study/imgs/quxian30.webp)


## 曲线组合应用：压黑漂白效果曲线

压黑漂白效果很适合运动类，主体硬朗，以及感情强烈的片子。其特点如下图所示，有大量的纯黑或者纯白区域，反差强烈。

![曲线31](/study/imgs/quxian31.webp)


下面是这张道路上飞驰的装甲车的原片，反差不够强烈，无法体现出装甲战士带给我们的冲击力。

![曲线32](/study/imgs/quxian32.webp)

使用黑白场曲线右移黑场锚点，照片中很暗的部分全部都变成了纯黑。黑色倒是足够了，但黑白场曲线的副作用就是把整个图片都压黑了。

![曲线33](/study/imgs/quxian33.webp)

所以在亮部建立锚点，用提亮曲线提高高光和中间调，营造硬朗的反差效果。这种扩大纯黑并提亮亮部的效果就称为**压黑（Crushed Black）效果**。

![曲线34](/study/imgs/quxian34.jpeg)

与压黑类似的还有漂白效果。顾名思义，**漂白效果**就是照片整体提亮，白色溢出，同时暗处也变亮并压缩成深灰色，仿佛照片印在纸上再放进漂白水里漂白出来一样。

下图是Gopro拍摄的皮划艇运动员Thomas。

![曲线35](/study/imgs/quxian35.jpeg)

漂白曲线的前两部跟压黑曲线一样，先是把暗部变成纯黑，同时提亮照片。

![曲线36](/study/imgs/quxian36.webp)

漂白效果会进一步让高光也溢出成白色，虽然丢掉细节，但是照片会更有明快动感的气氛。在曲线中可以通过左移白场锚点实现这个效果。

![曲线37](/study/imgs/quxian37.webp)

最后我们把黑场的点再上移一段距离，可以理解成刚刚压缩成纯黑的暗部，提亮成了同一种深灰色。

![曲线38](/study/imgs/quxian38.webp)

同样可以发现，漂白曲线也是由黑白场曲线和提亮曲线组合而成的，真的是万变不离其宗


可以看到，不管是胶片曲线，暗调曲线，还是压黑漂白曲线，无论多么复杂的效果。其本质任然是提亮压暗，黑白场和对比度这3种基本曲线，在整体和各个局部组合而成的！


所以我们并不需要死记硬背这些复杂效果的曲线长什么样。只要理解了三种基本曲线形态的作用，就可以根据需要，组合出自己想要的各种影调效果了！


## 曲线的斜率

![曲线斜率](/study/imgs/quxianxielv.png)


1. 切线变陡，对比度增加
2. 切线变缓，对比度降低
3. 锚点上升，亮度增加

